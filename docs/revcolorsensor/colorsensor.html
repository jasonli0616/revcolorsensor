<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>revcolorsensor.colorsensor API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>revcolorsensor.colorsensor</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">#!/usr/bin/env python3

# Copyright (c) FIRST and other WPILib contributors.
# Open Source Software; you can modify and/or share it under the terms of
# the WPILib BSD license file in the root directory of this project.

# Based on https://github.com/REVrobotics/Color-Sensor-v3/blob/main/src/main/java/com/revrobotics/ColorSensorV3.java
#
# Copyright (c) 2019 REV Robotics
#
# Redistribution and use in source and binary forms, with or without
# modification, are permitted provided that the following conditions are met:
#
# 1. Redistributions of source code must retain the above copyright notice,
#    this list of conditions and the following disclaimer.
# 2. Redistributions in binary form must reproduce the above copyright
#    notice, this list of conditions and the following disclaimer in the
#    documentation and/or other materials provided with the distribution.
# 3. Neither the name of REV Robotics nor the names of its
#    contributors may be used to endorse or promote products derived from
#    this software without specific prior written permission.
#
# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &#34;AS IS&#34;
# AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
# IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
# ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
# LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
# CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
# SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
# INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
# CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
# ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
# POSSIBILITY OF SUCH DAMAGE.
#

###############################################################################
#
# Setting up the rPi:
# - ssh in (username pi, password raspberry), then:
#   - run &#34;rw&#34; to put the Pi into writable mode
#   - run &#34;sudo systemctl enable pigpiod&#34;
#   - run &#34;sudo raspi-config&#34;, Interface Options, I2C, Yes, OR:
#     - edit /etc/modules, add &#34;i2c-dev&#34; line
#     - edit /boot/config.txt:
#       - uncomment &#34;dtparam=i2c_arm=on&#34; line
#
# The default hardware I2C bus is bus 1 on GPIO 2 (Data) and GPIO 3 (Clock).
# These pins include 1.8k pull-up resistors to 3.3V.
#
# It is possible to get up to 4 additional I2C busses (3, 4, 5, 6) via other GPIO pins.
# Note: you&#39;ll need to add external pull-ups to 3V3 on these GPIO pins.
# Alternatively, the Pi has support for external I2C mux devices hooked up to
# I2C bus 1, see i2c-mux in /boot/overlays/README.
#
# On the rPi 3b, software I2C must be used; add the following to /boot/config.txt:
#       dtoverlay=i2c-gpio,bus=6,i2c_gpio_sda=22,i2c_gpio_scl=23
#       dtoverlay=i2c-gpio,bus=5,i2c_gpio_sda=12,i2c_gpio_scl=13
#       dtoverlay=i2c-gpio,bus=4,i2c_gpio_sda=8,i2c_gpio_scl=9
#       dtoverlay=i2c-gpio,bus=3,i2c_gpio_sda=4,i2c_gpio_scl=5
# On the rPi 4, additional hardware busses are available; add to /boot/config.txt:
#       dtoverlay=i2c3
#       dtoverlay=i2c4
#       dtoverlay=i2c5
#       dtoverlay=i2c6
#
# This program shows how to operate a single device on bus 1 and two devices
# (one on bus 1 and one on bus 3). The multiple device code is commented out.
#
###############################################################################

import enum
import pigpio
import sys

pi = pigpio.pi()


class Color:

    def __init__(self, red: float, green: float, blue: float):
        self.red = red
        self.green = green
        self.blue = blue


class RawColor:

    def __init__(self, red: int, green: int, blue: int, ir: int):
        self.red = red
        self.green = green
        self.blue = blue
        self.ir = ir


class CIEColor:

    def __init__(self, x: float, y: float, z: float):
        self.x = x
        self.y = y
        self.z = z


class ColorSensorV3:
    &#34;&#34;&#34;REV Robotics Color Sensor V3&#34;&#34;&#34;

    kAddress = 0x52
    kPartID = 0xC2

    def __init__(self, port: int):
        &#34;&#34;&#34;
        Constructs a ColorSensor.

        port  The I2C port the color sensor is attached to
        &#34;&#34;&#34;
        self.i2c = pi.i2c_open(port, self.kAddress)

        if not self._checkDeviceID():
            return

        self._initializeDevice()

        # Clear the reset flag
        self.hasReset()

    class Register(enum.IntEnum):
        kMainCtrl = 0x00
        kProximitySensorLED = 0x01
        kProximitySensorPulses = 0x02
        kProximitySensorRate = 0x03
        kLightSensorMeasurementRate = 0x04
        kLightSensorGain = 0x05
        kPartID = 0x06
        kMainStatus = 0x07
        kProximityData = 0x08
        kDataInfrared = 0x0A
        kDataGreen = 0x0D
        kDataBlue = 0x10
        kDataRed = 0x13

    class MainControl(enum.IntFlag):
        kRGBMode = 0x04  # If bit is set to 1, color channels are activated
        kLightSensorEnable = 0x02  # Enable light sensor
        kProximitySensorEnable = 0x01  # Proximity sensor active
        OFF = 0x00  # Nothing on

    class GainFactor(enum.IntEnum):
        kGain1x = 0x00
        kGain3x = 0x01
        kGain6x = 0x02
        kGain9x = 0x03
        kGain18x = 0x04

    class LEDCurrent(enum.IntEnum):
        kPulse2mA = 0x00
        kPulse5mA = 0x01
        kPulse10mA = 0x02
        kPulse25mA = 0x03
        kPulse50mA = 0x04
        kPulse75mA = 0x05
        kPulse100mA = 0x06  # default value
        kPulse125mA = 0x07

    class LEDPulseFrequency(enum.IntEnum):
        kFreq60kHz = 0x18  # default value
        kFreq70kHz = 0x40
        kFreq80kHz = 0x28
        kFreq90kHz = 0x30
        kFreq100kHz = 0x38

    class ProximitySensorResolution(enum.IntEnum):
        kProxRes8bit = 0x00
        kProxRes9bit = 0x08
        kProxRes10bit = 0x10
        kProxRes11bit = 0x18

    class ProximitySensorMeasurementRate(enum.IntEnum):
        kProxRate6ms = 0x01
        kProxRate12ms = 0x02
        kProxRate25ms = 0x03
        kProxRate50ms = 0x04
        kProxRate100ms = 0x05  # default value
        kProxRate200ms = 0x06
        kProxRate400ms = 0x07

    class ColorSensorResolution(enum.IntEnum):
        kColorSensorRes20bit = 0x00
        kColorSensorRes19bit = 0x10
        kColorSensorRes18bit = 0x20
        kColorSensorRes17bit = 0x30
        kColorSensorRes16bit = 0x40
        kColorSensorRes13bit = 0x50

    class ColorSensorMeasurementRate(enum.IntEnum):
        kColorRate25ms = 0
        kColorRate50ms = 1
        kColorRate100ms = 2
        kColorRate200ms = 3
        kColorRate500ms = 4
        kColorRate1000ms = 5
        kColorRate2000ms = 7

    def configureProximitySensorLED(self, freq: LEDPulseFrequency,
                                    curr: LEDCurrent, pulses: int):
        &#34;&#34;&#34;
        Configure the the IR LED used by the proximity sensor.

        These settings are only needed for advanced users, the defaults
        will work fine for most teams. Consult the APDS-9151 for more
        information on these configuration settings and how they will affect
        proximity sensor measurements.

        freq      The pulse modulation frequency for the proximity
                  sensor LED
        curr      The pulse current for the proximity sensor LED
        pulses    The number of pulses per measurement of the
                  proximity sensor LED (0-255)
        &#34;&#34;&#34;
        self._write8(self.Register.kProximitySensorLED, freq | curr)
        self._write8(self.Register.kProximitySensorPulses, pulses)

    def configureProximitySensor(self, res: ProximitySensorResolution,
                                 rate: ProximitySensorMeasurementRate):
        &#34;&#34;&#34;
        Configure the proximity sensor.

        These settings are only needed for advanced users, the defaults
        will work fine for most teams. Consult the APDS-9151 for more
        information on these configuration settings and how they will affect
        proximity sensor measurements.

        res   Bit resolution output by the proximity sensor ADC.
        rate  Measurement rate of the proximity sensor
        &#34;&#34;&#34;
        self._write8(self.Register.kProximitySensorRate, res | rate)

    def configureColorSensor(self, res: ColorSensorResolution,
                             rate: ColorSensorMeasurementRate,
                             gain: GainFactor):
        &#34;&#34;&#34;
        Configure the color sensor.

        These settings are only needed for advanced users, the defaults
        will work fine for most teams. Consult the APDS-9151 for more
        information on these configuration settings and how they will affect
        color sensor measurements.

        res   Bit resolution output by the respective light sensor ADCs
        rate  Measurement rate of the light sensor
        gain  Gain factor applied to light sensor (color) outputs
        &#34;&#34;&#34;
        self._write8(self.Register.kLightSensorMeasurementRate, res | rate)
        self._write8(self.Register.kLightSensorGain, gain)

    def getColor(self) -&gt; Color:
        &#34;&#34;&#34;
        Get the most likely color. Works best when within 2 inches and
        perpendicular to surface of interest.

        Returns the most likely color, including unknown if
        the minimum threshold is not met
        &#34;&#34;&#34;
        r = self.getRed()
        g = self.getGreen()
        b = self.getBlue()
        mag = r + g + b
        return Color(r / mag, g / mag, b / mag)

    def getProximity(self):
        &#34;&#34;&#34;
        Get the raw proximity value from the sensor ADC (11 bit). This value
        is largest when an object is close to the sensor and smallest when
        far away.

        Returns proximity measurement value, ranging from 0 to 2047
        &#34;&#34;&#34;
        return self._read11BitRegister(self.Register.kProximityData)

    def getRawColor(self) -&gt; RawColor:
        &#34;&#34;&#34;
        Get the raw color values from their respective ADCs (20-bit).

        Returns Color containing red, green, blue and IR values
        &#34;&#34;&#34;
        return RawColor(self.getRed(), self.getGreen(), self.getBlue(),
                        self.getIR())

    def getRed(self) -&gt; int:
        &#34;&#34;&#34;
        Get the raw color value from the red ADC

        Returns Red ADC value
        &#34;&#34;&#34;
        return self._read20BitRegister(self.Register.kDataRed)

    def getGreen(self) -&gt; int:
        &#34;&#34;&#34;
        Get the raw color value from the green ADC

        Returns Green ADC value
        &#34;&#34;&#34;
        return self._read20BitRegister(self.Register.kDataGreen)

    def getBlue(self) -&gt; int:
        &#34;&#34;&#34;
        Get the raw color value from the blue ADC

        Returns Blue ADC value
        &#34;&#34;&#34;
        return self._read20BitRegister(self.Register.kDataBlue)

    def getIR(self) -&gt; int:
        &#34;&#34;&#34;
        Get the raw color value from the IR ADC

        Returns IR ADC value
        &#34;&#34;&#34;
        return self._read20BitRegister(self.Register.kDataInfrared)

    # This is a transformation matrix given by the chip
    # manufacturer to transform the raw RGB to CIE XYZ
    _Cmatrix = [
        0.048112847, 0.289453437, -0.084950826, -0.030754752, 0.339680186,
        -0.071569905, -0.093947499, 0.072838494, 0.34024948
    ]

    def getCIEColor(self) -&gt; CIEColor:
        &#34;&#34;&#34;
        Get the color converted to CIE XYZ color space using factory
        calibrated constants.

        https://en.wikipedia.org/wiki/CIE_1931_color_space

        Returns CIEColor value from sensor
        &#34;&#34;&#34;
        raw = self.getRawColor()
        return CIEColor(
            self._Cmatrix[0] * raw.red + self._Cmatrix[1] * raw.green +
            self._Cmatrix[2] * raw.blue, self._Cmatrix[3] * raw.red +
            self._Cmatrix[4] * raw.green + self._Cmatrix[5] * raw.blue,
            self._Cmatrix[6] * raw.red + self._Cmatrix[7] * raw.green +
            self._Cmatrix[8] * raw.blue)

    def hasReset(self) -&gt; bool:
        &#34;&#34;&#34;
        Indicates if the device reset. Based on the power on status flag in the
        status register. Per the datasheet:

        Part went through a power-up event, either because the part was turned
        on or because there was power supply voltage disturbance (default at
        first register read).

        This flag is self clearing

        Returns bool indicating if the device was reset
        &#34;&#34;&#34;
        raw = pi.i2c_read_byte_data(self.i2c, self.Register.kMainStatus)

        return (raw &amp; 0x20) != 0

    def _checkDeviceID(self) -&gt; bool:
        raw = pi.i2c_read_byte_data(self.i2c, self.Register.kPartID)

        if self.kPartID != raw:
            print(
                &#34;Unknown device found with same I2C addres as REV color sensor&#34;)
            return False

        return True

    def _initializeDevice(self):
        self._write8(
            self.Register.kMainCtrl,
            self.MainControl.kRGBMode | self.MainControl.kLightSensorEnable |
            self.MainControl.kProximitySensorEnable)

        self._write8(
            self.Register.kProximitySensorRate,
            self.ProximitySensorResolution.kProxRes11bit |
            self.ProximitySensorMeasurementRate.kProxRate100ms)

        self._write8(self.Register.kProximitySensorPulses, 32)

    def _read11BitRegister(self, reg: Register) -&gt; int:
        count, raw = pi.i2c_read_i2c_block_data(self.i2c, reg, 2)

        return ((raw[0] &amp; 0xFF) | ((raw[1] &amp; 0xFF) &lt;&lt; 8)) &amp; 0x7FF

    def _read20BitRegister(self, reg: Register) -&gt; int:
        count, raw = pi.i2c_read_i2c_block_data(self.i2c, reg, 3)

        return ((raw[0] &amp; 0xFF) | ((raw[1] &amp; 0xFF) &lt;&lt; 8) |
                ((raw[2] &amp; 0xFF) &lt;&lt; 16)) &amp; 0x03FFFF

    def _write8(self, reg: Register, data: int):
        pi.i2c_write_byte_data(self.i2c, reg, data)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="revcolorsensor.colorsensor.CIEColor"><code class="flex name class">
<span>class <span class="ident">CIEColor</span></span>
<span>(</span><span>x: float, y: float, z: float)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class CIEColor:

    def __init__(self, x: float, y: float, z: float):
        self.x = x
        self.y = y
        self.z = z</code></pre>
</details>
</dd>
<dt id="revcolorsensor.colorsensor.Color"><code class="flex name class">
<span>class <span class="ident">Color</span></span>
<span>(</span><span>red: float, green: float, blue: float)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Color:

    def __init__(self, red: float, green: float, blue: float):
        self.red = red
        self.green = green
        self.blue = blue</code></pre>
</details>
</dd>
<dt id="revcolorsensor.colorsensor.ColorSensorV3"><code class="flex name class">
<span>class <span class="ident">ColorSensorV3</span></span>
<span>(</span><span>port: int)</span>
</code></dt>
<dd>
<div class="desc"><p>REV Robotics Color Sensor V3</p>
<p>Constructs a ColorSensor.</p>
<p>port
The I2C port the color sensor is attached to</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ColorSensorV3:
    &#34;&#34;&#34;REV Robotics Color Sensor V3&#34;&#34;&#34;

    kAddress = 0x52
    kPartID = 0xC2

    def __init__(self, port: int):
        &#34;&#34;&#34;
        Constructs a ColorSensor.

        port  The I2C port the color sensor is attached to
        &#34;&#34;&#34;
        self.i2c = pi.i2c_open(port, self.kAddress)

        if not self._checkDeviceID():
            return

        self._initializeDevice()

        # Clear the reset flag
        self.hasReset()

    class Register(enum.IntEnum):
        kMainCtrl = 0x00
        kProximitySensorLED = 0x01
        kProximitySensorPulses = 0x02
        kProximitySensorRate = 0x03
        kLightSensorMeasurementRate = 0x04
        kLightSensorGain = 0x05
        kPartID = 0x06
        kMainStatus = 0x07
        kProximityData = 0x08
        kDataInfrared = 0x0A
        kDataGreen = 0x0D
        kDataBlue = 0x10
        kDataRed = 0x13

    class MainControl(enum.IntFlag):
        kRGBMode = 0x04  # If bit is set to 1, color channels are activated
        kLightSensorEnable = 0x02  # Enable light sensor
        kProximitySensorEnable = 0x01  # Proximity sensor active
        OFF = 0x00  # Nothing on

    class GainFactor(enum.IntEnum):
        kGain1x = 0x00
        kGain3x = 0x01
        kGain6x = 0x02
        kGain9x = 0x03
        kGain18x = 0x04

    class LEDCurrent(enum.IntEnum):
        kPulse2mA = 0x00
        kPulse5mA = 0x01
        kPulse10mA = 0x02
        kPulse25mA = 0x03
        kPulse50mA = 0x04
        kPulse75mA = 0x05
        kPulse100mA = 0x06  # default value
        kPulse125mA = 0x07

    class LEDPulseFrequency(enum.IntEnum):
        kFreq60kHz = 0x18  # default value
        kFreq70kHz = 0x40
        kFreq80kHz = 0x28
        kFreq90kHz = 0x30
        kFreq100kHz = 0x38

    class ProximitySensorResolution(enum.IntEnum):
        kProxRes8bit = 0x00
        kProxRes9bit = 0x08
        kProxRes10bit = 0x10
        kProxRes11bit = 0x18

    class ProximitySensorMeasurementRate(enum.IntEnum):
        kProxRate6ms = 0x01
        kProxRate12ms = 0x02
        kProxRate25ms = 0x03
        kProxRate50ms = 0x04
        kProxRate100ms = 0x05  # default value
        kProxRate200ms = 0x06
        kProxRate400ms = 0x07

    class ColorSensorResolution(enum.IntEnum):
        kColorSensorRes20bit = 0x00
        kColorSensorRes19bit = 0x10
        kColorSensorRes18bit = 0x20
        kColorSensorRes17bit = 0x30
        kColorSensorRes16bit = 0x40
        kColorSensorRes13bit = 0x50

    class ColorSensorMeasurementRate(enum.IntEnum):
        kColorRate25ms = 0
        kColorRate50ms = 1
        kColorRate100ms = 2
        kColorRate200ms = 3
        kColorRate500ms = 4
        kColorRate1000ms = 5
        kColorRate2000ms = 7

    def configureProximitySensorLED(self, freq: LEDPulseFrequency,
                                    curr: LEDCurrent, pulses: int):
        &#34;&#34;&#34;
        Configure the the IR LED used by the proximity sensor.

        These settings are only needed for advanced users, the defaults
        will work fine for most teams. Consult the APDS-9151 for more
        information on these configuration settings and how they will affect
        proximity sensor measurements.

        freq      The pulse modulation frequency for the proximity
                  sensor LED
        curr      The pulse current for the proximity sensor LED
        pulses    The number of pulses per measurement of the
                  proximity sensor LED (0-255)
        &#34;&#34;&#34;
        self._write8(self.Register.kProximitySensorLED, freq | curr)
        self._write8(self.Register.kProximitySensorPulses, pulses)

    def configureProximitySensor(self, res: ProximitySensorResolution,
                                 rate: ProximitySensorMeasurementRate):
        &#34;&#34;&#34;
        Configure the proximity sensor.

        These settings are only needed for advanced users, the defaults
        will work fine for most teams. Consult the APDS-9151 for more
        information on these configuration settings and how they will affect
        proximity sensor measurements.

        res   Bit resolution output by the proximity sensor ADC.
        rate  Measurement rate of the proximity sensor
        &#34;&#34;&#34;
        self._write8(self.Register.kProximitySensorRate, res | rate)

    def configureColorSensor(self, res: ColorSensorResolution,
                             rate: ColorSensorMeasurementRate,
                             gain: GainFactor):
        &#34;&#34;&#34;
        Configure the color sensor.

        These settings are only needed for advanced users, the defaults
        will work fine for most teams. Consult the APDS-9151 for more
        information on these configuration settings and how they will affect
        color sensor measurements.

        res   Bit resolution output by the respective light sensor ADCs
        rate  Measurement rate of the light sensor
        gain  Gain factor applied to light sensor (color) outputs
        &#34;&#34;&#34;
        self._write8(self.Register.kLightSensorMeasurementRate, res | rate)
        self._write8(self.Register.kLightSensorGain, gain)

    def getColor(self) -&gt; Color:
        &#34;&#34;&#34;
        Get the most likely color. Works best when within 2 inches and
        perpendicular to surface of interest.

        Returns the most likely color, including unknown if
        the minimum threshold is not met
        &#34;&#34;&#34;
        r = self.getRed()
        g = self.getGreen()
        b = self.getBlue()
        mag = r + g + b
        return Color(r / mag, g / mag, b / mag)

    def getProximity(self):
        &#34;&#34;&#34;
        Get the raw proximity value from the sensor ADC (11 bit). This value
        is largest when an object is close to the sensor and smallest when
        far away.

        Returns proximity measurement value, ranging from 0 to 2047
        &#34;&#34;&#34;
        return self._read11BitRegister(self.Register.kProximityData)

    def getRawColor(self) -&gt; RawColor:
        &#34;&#34;&#34;
        Get the raw color values from their respective ADCs (20-bit).

        Returns Color containing red, green, blue and IR values
        &#34;&#34;&#34;
        return RawColor(self.getRed(), self.getGreen(), self.getBlue(),
                        self.getIR())

    def getRed(self) -&gt; int:
        &#34;&#34;&#34;
        Get the raw color value from the red ADC

        Returns Red ADC value
        &#34;&#34;&#34;
        return self._read20BitRegister(self.Register.kDataRed)

    def getGreen(self) -&gt; int:
        &#34;&#34;&#34;
        Get the raw color value from the green ADC

        Returns Green ADC value
        &#34;&#34;&#34;
        return self._read20BitRegister(self.Register.kDataGreen)

    def getBlue(self) -&gt; int:
        &#34;&#34;&#34;
        Get the raw color value from the blue ADC

        Returns Blue ADC value
        &#34;&#34;&#34;
        return self._read20BitRegister(self.Register.kDataBlue)

    def getIR(self) -&gt; int:
        &#34;&#34;&#34;
        Get the raw color value from the IR ADC

        Returns IR ADC value
        &#34;&#34;&#34;
        return self._read20BitRegister(self.Register.kDataInfrared)

    # This is a transformation matrix given by the chip
    # manufacturer to transform the raw RGB to CIE XYZ
    _Cmatrix = [
        0.048112847, 0.289453437, -0.084950826, -0.030754752, 0.339680186,
        -0.071569905, -0.093947499, 0.072838494, 0.34024948
    ]

    def getCIEColor(self) -&gt; CIEColor:
        &#34;&#34;&#34;
        Get the color converted to CIE XYZ color space using factory
        calibrated constants.

        https://en.wikipedia.org/wiki/CIE_1931_color_space

        Returns CIEColor value from sensor
        &#34;&#34;&#34;
        raw = self.getRawColor()
        return CIEColor(
            self._Cmatrix[0] * raw.red + self._Cmatrix[1] * raw.green +
            self._Cmatrix[2] * raw.blue, self._Cmatrix[3] * raw.red +
            self._Cmatrix[4] * raw.green + self._Cmatrix[5] * raw.blue,
            self._Cmatrix[6] * raw.red + self._Cmatrix[7] * raw.green +
            self._Cmatrix[8] * raw.blue)

    def hasReset(self) -&gt; bool:
        &#34;&#34;&#34;
        Indicates if the device reset. Based on the power on status flag in the
        status register. Per the datasheet:

        Part went through a power-up event, either because the part was turned
        on or because there was power supply voltage disturbance (default at
        first register read).

        This flag is self clearing

        Returns bool indicating if the device was reset
        &#34;&#34;&#34;
        raw = pi.i2c_read_byte_data(self.i2c, self.Register.kMainStatus)

        return (raw &amp; 0x20) != 0

    def _checkDeviceID(self) -&gt; bool:
        raw = pi.i2c_read_byte_data(self.i2c, self.Register.kPartID)

        if self.kPartID != raw:
            print(
                &#34;Unknown device found with same I2C addres as REV color sensor&#34;)
            return False

        return True

    def _initializeDevice(self):
        self._write8(
            self.Register.kMainCtrl,
            self.MainControl.kRGBMode | self.MainControl.kLightSensorEnable |
            self.MainControl.kProximitySensorEnable)

        self._write8(
            self.Register.kProximitySensorRate,
            self.ProximitySensorResolution.kProxRes11bit |
            self.ProximitySensorMeasurementRate.kProxRate100ms)

        self._write8(self.Register.kProximitySensorPulses, 32)

    def _read11BitRegister(self, reg: Register) -&gt; int:
        count, raw = pi.i2c_read_i2c_block_data(self.i2c, reg, 2)

        return ((raw[0] &amp; 0xFF) | ((raw[1] &amp; 0xFF) &lt;&lt; 8)) &amp; 0x7FF

    def _read20BitRegister(self, reg: Register) -&gt; int:
        count, raw = pi.i2c_read_i2c_block_data(self.i2c, reg, 3)

        return ((raw[0] &amp; 0xFF) | ((raw[1] &amp; 0xFF) &lt;&lt; 8) |
                ((raw[2] &amp; 0xFF) &lt;&lt; 16)) &amp; 0x03FFFF

    def _write8(self, reg: Register, data: int):
        pi.i2c_write_byte_data(self.i2c, reg, data)</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="revcolorsensor.colorsensor.ColorSensorV3.ColorSensorMeasurementRate"><code class="name">var <span class="ident">ColorSensorMeasurementRate</span></code></dt>
<dd>
<div class="desc"><p>An enumeration.</p></div>
</dd>
<dt id="revcolorsensor.colorsensor.ColorSensorV3.ColorSensorResolution"><code class="name">var <span class="ident">ColorSensorResolution</span></code></dt>
<dd>
<div class="desc"><p>An enumeration.</p></div>
</dd>
<dt id="revcolorsensor.colorsensor.ColorSensorV3.GainFactor"><code class="name">var <span class="ident">GainFactor</span></code></dt>
<dd>
<div class="desc"><p>An enumeration.</p></div>
</dd>
<dt id="revcolorsensor.colorsensor.ColorSensorV3.LEDCurrent"><code class="name">var <span class="ident">LEDCurrent</span></code></dt>
<dd>
<div class="desc"><p>An enumeration.</p></div>
</dd>
<dt id="revcolorsensor.colorsensor.ColorSensorV3.LEDPulseFrequency"><code class="name">var <span class="ident">LEDPulseFrequency</span></code></dt>
<dd>
<div class="desc"><p>An enumeration.</p></div>
</dd>
<dt id="revcolorsensor.colorsensor.ColorSensorV3.MainControl"><code class="name">var <span class="ident">MainControl</span></code></dt>
<dd>
<div class="desc"><p>An enumeration.</p></div>
</dd>
<dt id="revcolorsensor.colorsensor.ColorSensorV3.ProximitySensorMeasurementRate"><code class="name">var <span class="ident">ProximitySensorMeasurementRate</span></code></dt>
<dd>
<div class="desc"><p>An enumeration.</p></div>
</dd>
<dt id="revcolorsensor.colorsensor.ColorSensorV3.ProximitySensorResolution"><code class="name">var <span class="ident">ProximitySensorResolution</span></code></dt>
<dd>
<div class="desc"><p>An enumeration.</p></div>
</dd>
<dt id="revcolorsensor.colorsensor.ColorSensorV3.Register"><code class="name">var <span class="ident">Register</span></code></dt>
<dd>
<div class="desc"><p>An enumeration.</p></div>
</dd>
<dt id="revcolorsensor.colorsensor.ColorSensorV3.kAddress"><code class="name">var <span class="ident">kAddress</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="revcolorsensor.colorsensor.ColorSensorV3.kPartID"><code class="name">var <span class="ident">kPartID</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="revcolorsensor.colorsensor.ColorSensorV3.configureColorSensor"><code class="name flex">
<span>def <span class="ident">configureColorSensor</span></span>(<span>self, res: <a title="revcolorsensor.colorsensor.ColorSensorV3.ColorSensorResolution" href="#revcolorsensor.colorsensor.ColorSensorV3.ColorSensorResolution">ColorSensorV3.ColorSensorResolution</a>, rate: <a title="revcolorsensor.colorsensor.ColorSensorV3.ColorSensorMeasurementRate" href="#revcolorsensor.colorsensor.ColorSensorV3.ColorSensorMeasurementRate">ColorSensorV3.ColorSensorMeasurementRate</a>, gain: <a title="revcolorsensor.colorsensor.ColorSensorV3.GainFactor" href="#revcolorsensor.colorsensor.ColorSensorV3.GainFactor">ColorSensorV3.GainFactor</a>)</span>
</code></dt>
<dd>
<div class="desc"><p>Configure the color sensor.</p>
<p>These settings are only needed for advanced users, the defaults
will work fine for most teams. Consult the APDS-9151 for more
information on these configuration settings and how they will affect
color sensor measurements.</p>
<p>res
Bit resolution output by the respective light sensor ADCs
rate
Measurement rate of the light sensor
gain
Gain factor applied to light sensor (color) outputs</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def configureColorSensor(self, res: ColorSensorResolution,
                         rate: ColorSensorMeasurementRate,
                         gain: GainFactor):
    &#34;&#34;&#34;
    Configure the color sensor.

    These settings are only needed for advanced users, the defaults
    will work fine for most teams. Consult the APDS-9151 for more
    information on these configuration settings and how they will affect
    color sensor measurements.

    res   Bit resolution output by the respective light sensor ADCs
    rate  Measurement rate of the light sensor
    gain  Gain factor applied to light sensor (color) outputs
    &#34;&#34;&#34;
    self._write8(self.Register.kLightSensorMeasurementRate, res | rate)
    self._write8(self.Register.kLightSensorGain, gain)</code></pre>
</details>
</dd>
<dt id="revcolorsensor.colorsensor.ColorSensorV3.configureProximitySensor"><code class="name flex">
<span>def <span class="ident">configureProximitySensor</span></span>(<span>self, res: <a title="revcolorsensor.colorsensor.ColorSensorV3.ProximitySensorResolution" href="#revcolorsensor.colorsensor.ColorSensorV3.ProximitySensorResolution">ColorSensorV3.ProximitySensorResolution</a>, rate: <a title="revcolorsensor.colorsensor.ColorSensorV3.ProximitySensorMeasurementRate" href="#revcolorsensor.colorsensor.ColorSensorV3.ProximitySensorMeasurementRate">ColorSensorV3.ProximitySensorMeasurementRate</a>)</span>
</code></dt>
<dd>
<div class="desc"><p>Configure the proximity sensor.</p>
<p>These settings are only needed for advanced users, the defaults
will work fine for most teams. Consult the APDS-9151 for more
information on these configuration settings and how they will affect
proximity sensor measurements.</p>
<p>res
Bit resolution output by the proximity sensor ADC.
rate
Measurement rate of the proximity sensor</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def configureProximitySensor(self, res: ProximitySensorResolution,
                             rate: ProximitySensorMeasurementRate):
    &#34;&#34;&#34;
    Configure the proximity sensor.

    These settings are only needed for advanced users, the defaults
    will work fine for most teams. Consult the APDS-9151 for more
    information on these configuration settings and how they will affect
    proximity sensor measurements.

    res   Bit resolution output by the proximity sensor ADC.
    rate  Measurement rate of the proximity sensor
    &#34;&#34;&#34;
    self._write8(self.Register.kProximitySensorRate, res | rate)</code></pre>
</details>
</dd>
<dt id="revcolorsensor.colorsensor.ColorSensorV3.configureProximitySensorLED"><code class="name flex">
<span>def <span class="ident">configureProximitySensorLED</span></span>(<span>self, freq: <a title="revcolorsensor.colorsensor.ColorSensorV3.LEDPulseFrequency" href="#revcolorsensor.colorsensor.ColorSensorV3.LEDPulseFrequency">ColorSensorV3.LEDPulseFrequency</a>, curr: <a title="revcolorsensor.colorsensor.ColorSensorV3.LEDCurrent" href="#revcolorsensor.colorsensor.ColorSensorV3.LEDCurrent">ColorSensorV3.LEDCurrent</a>, pulses: int)</span>
</code></dt>
<dd>
<div class="desc"><p>Configure the the IR LED used by the proximity sensor.</p>
<p>These settings are only needed for advanced users, the defaults
will work fine for most teams. Consult the APDS-9151 for more
information on these configuration settings and how they will affect
proximity sensor measurements.</p>
<p>freq
The pulse modulation frequency for the proximity
sensor LED
curr
The pulse current for the proximity sensor LED
pulses
The number of pulses per measurement of the
proximity sensor LED (0-255)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def configureProximitySensorLED(self, freq: LEDPulseFrequency,
                                curr: LEDCurrent, pulses: int):
    &#34;&#34;&#34;
    Configure the the IR LED used by the proximity sensor.

    These settings are only needed for advanced users, the defaults
    will work fine for most teams. Consult the APDS-9151 for more
    information on these configuration settings and how they will affect
    proximity sensor measurements.

    freq      The pulse modulation frequency for the proximity
              sensor LED
    curr      The pulse current for the proximity sensor LED
    pulses    The number of pulses per measurement of the
              proximity sensor LED (0-255)
    &#34;&#34;&#34;
    self._write8(self.Register.kProximitySensorLED, freq | curr)
    self._write8(self.Register.kProximitySensorPulses, pulses)</code></pre>
</details>
</dd>
<dt id="revcolorsensor.colorsensor.ColorSensorV3.getBlue"><code class="name flex">
<span>def <span class="ident">getBlue</span></span>(<span>self) ‑> int</span>
</code></dt>
<dd>
<div class="desc"><p>Get the raw color value from the blue ADC</p>
<p>Returns Blue ADC value</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def getBlue(self) -&gt; int:
    &#34;&#34;&#34;
    Get the raw color value from the blue ADC

    Returns Blue ADC value
    &#34;&#34;&#34;
    return self._read20BitRegister(self.Register.kDataBlue)</code></pre>
</details>
</dd>
<dt id="revcolorsensor.colorsensor.ColorSensorV3.getCIEColor"><code class="name flex">
<span>def <span class="ident">getCIEColor</span></span>(<span>self) ‑> <a title="revcolorsensor.colorsensor.CIEColor" href="#revcolorsensor.colorsensor.CIEColor">CIEColor</a></span>
</code></dt>
<dd>
<div class="desc"><p>Get the color converted to CIE XYZ color space using factory
calibrated constants.</p>
<p><a href="https://en.wikipedia.org/wiki/CIE_1931_color_space">https://en.wikipedia.org/wiki/CIE_1931_color_space</a></p>
<p>Returns CIEColor value from sensor</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def getCIEColor(self) -&gt; CIEColor:
    &#34;&#34;&#34;
    Get the color converted to CIE XYZ color space using factory
    calibrated constants.

    https://en.wikipedia.org/wiki/CIE_1931_color_space

    Returns CIEColor value from sensor
    &#34;&#34;&#34;
    raw = self.getRawColor()
    return CIEColor(
        self._Cmatrix[0] * raw.red + self._Cmatrix[1] * raw.green +
        self._Cmatrix[2] * raw.blue, self._Cmatrix[3] * raw.red +
        self._Cmatrix[4] * raw.green + self._Cmatrix[5] * raw.blue,
        self._Cmatrix[6] * raw.red + self._Cmatrix[7] * raw.green +
        self._Cmatrix[8] * raw.blue)</code></pre>
</details>
</dd>
<dt id="revcolorsensor.colorsensor.ColorSensorV3.getColor"><code class="name flex">
<span>def <span class="ident">getColor</span></span>(<span>self) ‑> <a title="revcolorsensor.colorsensor.Color" href="#revcolorsensor.colorsensor.Color">Color</a></span>
</code></dt>
<dd>
<div class="desc"><p>Get the most likely color. Works best when within 2 inches and
perpendicular to surface of interest.</p>
<p>Returns the most likely color, including unknown if
the minimum threshold is not met</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def getColor(self) -&gt; Color:
    &#34;&#34;&#34;
    Get the most likely color. Works best when within 2 inches and
    perpendicular to surface of interest.

    Returns the most likely color, including unknown if
    the minimum threshold is not met
    &#34;&#34;&#34;
    r = self.getRed()
    g = self.getGreen()
    b = self.getBlue()
    mag = r + g + b
    return Color(r / mag, g / mag, b / mag)</code></pre>
</details>
</dd>
<dt id="revcolorsensor.colorsensor.ColorSensorV3.getGreen"><code class="name flex">
<span>def <span class="ident">getGreen</span></span>(<span>self) ‑> int</span>
</code></dt>
<dd>
<div class="desc"><p>Get the raw color value from the green ADC</p>
<p>Returns Green ADC value</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def getGreen(self) -&gt; int:
    &#34;&#34;&#34;
    Get the raw color value from the green ADC

    Returns Green ADC value
    &#34;&#34;&#34;
    return self._read20BitRegister(self.Register.kDataGreen)</code></pre>
</details>
</dd>
<dt id="revcolorsensor.colorsensor.ColorSensorV3.getIR"><code class="name flex">
<span>def <span class="ident">getIR</span></span>(<span>self) ‑> int</span>
</code></dt>
<dd>
<div class="desc"><p>Get the raw color value from the IR ADC</p>
<p>Returns IR ADC value</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def getIR(self) -&gt; int:
    &#34;&#34;&#34;
    Get the raw color value from the IR ADC

    Returns IR ADC value
    &#34;&#34;&#34;
    return self._read20BitRegister(self.Register.kDataInfrared)</code></pre>
</details>
</dd>
<dt id="revcolorsensor.colorsensor.ColorSensorV3.getProximity"><code class="name flex">
<span>def <span class="ident">getProximity</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Get the raw proximity value from the sensor ADC (11 bit). This value
is largest when an object is close to the sensor and smallest when
far away.</p>
<p>Returns proximity measurement value, ranging from 0 to 2047</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def getProximity(self):
    &#34;&#34;&#34;
    Get the raw proximity value from the sensor ADC (11 bit). This value
    is largest when an object is close to the sensor and smallest when
    far away.

    Returns proximity measurement value, ranging from 0 to 2047
    &#34;&#34;&#34;
    return self._read11BitRegister(self.Register.kProximityData)</code></pre>
</details>
</dd>
<dt id="revcolorsensor.colorsensor.ColorSensorV3.getRawColor"><code class="name flex">
<span>def <span class="ident">getRawColor</span></span>(<span>self) ‑> <a title="revcolorsensor.colorsensor.RawColor" href="#revcolorsensor.colorsensor.RawColor">RawColor</a></span>
</code></dt>
<dd>
<div class="desc"><p>Get the raw color values from their respective ADCs (20-bit).</p>
<p>Returns Color containing red, green, blue and IR values</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def getRawColor(self) -&gt; RawColor:
    &#34;&#34;&#34;
    Get the raw color values from their respective ADCs (20-bit).

    Returns Color containing red, green, blue and IR values
    &#34;&#34;&#34;
    return RawColor(self.getRed(), self.getGreen(), self.getBlue(),
                    self.getIR())</code></pre>
</details>
</dd>
<dt id="revcolorsensor.colorsensor.ColorSensorV3.getRed"><code class="name flex">
<span>def <span class="ident">getRed</span></span>(<span>self) ‑> int</span>
</code></dt>
<dd>
<div class="desc"><p>Get the raw color value from the red ADC</p>
<p>Returns Red ADC value</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def getRed(self) -&gt; int:
    &#34;&#34;&#34;
    Get the raw color value from the red ADC

    Returns Red ADC value
    &#34;&#34;&#34;
    return self._read20BitRegister(self.Register.kDataRed)</code></pre>
</details>
</dd>
<dt id="revcolorsensor.colorsensor.ColorSensorV3.hasReset"><code class="name flex">
<span>def <span class="ident">hasReset</span></span>(<span>self) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"><p>Indicates if the device reset. Based on the power on status flag in the
status register. Per the datasheet:</p>
<p>Part went through a power-up event, either because the part was turned
on or because there was power supply voltage disturbance (default at
first register read).</p>
<p>This flag is self clearing</p>
<p>Returns bool indicating if the device was reset</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def hasReset(self) -&gt; bool:
    &#34;&#34;&#34;
    Indicates if the device reset. Based on the power on status flag in the
    status register. Per the datasheet:

    Part went through a power-up event, either because the part was turned
    on or because there was power supply voltage disturbance (default at
    first register read).

    This flag is self clearing

    Returns bool indicating if the device was reset
    &#34;&#34;&#34;
    raw = pi.i2c_read_byte_data(self.i2c, self.Register.kMainStatus)

    return (raw &amp; 0x20) != 0</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="revcolorsensor.colorsensor.RawColor"><code class="flex name class">
<span>class <span class="ident">RawColor</span></span>
<span>(</span><span>red: int, green: int, blue: int, ir: int)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class RawColor:

    def __init__(self, red: int, green: int, blue: int, ir: int):
        self.red = red
        self.green = green
        self.blue = blue
        self.ir = ir</code></pre>
</details>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="revcolorsensor" href="index.html">revcolorsensor</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="revcolorsensor.colorsensor.CIEColor" href="#revcolorsensor.colorsensor.CIEColor">CIEColor</a></code></h4>
</li>
<li>
<h4><code><a title="revcolorsensor.colorsensor.Color" href="#revcolorsensor.colorsensor.Color">Color</a></code></h4>
</li>
<li>
<h4><code><a title="revcolorsensor.colorsensor.ColorSensorV3" href="#revcolorsensor.colorsensor.ColorSensorV3">ColorSensorV3</a></code></h4>
<ul class="">
<li><code><a title="revcolorsensor.colorsensor.ColorSensorV3.ColorSensorMeasurementRate" href="#revcolorsensor.colorsensor.ColorSensorV3.ColorSensorMeasurementRate">ColorSensorMeasurementRate</a></code></li>
<li><code><a title="revcolorsensor.colorsensor.ColorSensorV3.ColorSensorResolution" href="#revcolorsensor.colorsensor.ColorSensorV3.ColorSensorResolution">ColorSensorResolution</a></code></li>
<li><code><a title="revcolorsensor.colorsensor.ColorSensorV3.GainFactor" href="#revcolorsensor.colorsensor.ColorSensorV3.GainFactor">GainFactor</a></code></li>
<li><code><a title="revcolorsensor.colorsensor.ColorSensorV3.LEDCurrent" href="#revcolorsensor.colorsensor.ColorSensorV3.LEDCurrent">LEDCurrent</a></code></li>
<li><code><a title="revcolorsensor.colorsensor.ColorSensorV3.LEDPulseFrequency" href="#revcolorsensor.colorsensor.ColorSensorV3.LEDPulseFrequency">LEDPulseFrequency</a></code></li>
<li><code><a title="revcolorsensor.colorsensor.ColorSensorV3.MainControl" href="#revcolorsensor.colorsensor.ColorSensorV3.MainControl">MainControl</a></code></li>
<li><code><a title="revcolorsensor.colorsensor.ColorSensorV3.ProximitySensorMeasurementRate" href="#revcolorsensor.colorsensor.ColorSensorV3.ProximitySensorMeasurementRate">ProximitySensorMeasurementRate</a></code></li>
<li><code><a title="revcolorsensor.colorsensor.ColorSensorV3.ProximitySensorResolution" href="#revcolorsensor.colorsensor.ColorSensorV3.ProximitySensorResolution">ProximitySensorResolution</a></code></li>
<li><code><a title="revcolorsensor.colorsensor.ColorSensorV3.Register" href="#revcolorsensor.colorsensor.ColorSensorV3.Register">Register</a></code></li>
<li><code><a title="revcolorsensor.colorsensor.ColorSensorV3.configureColorSensor" href="#revcolorsensor.colorsensor.ColorSensorV3.configureColorSensor">configureColorSensor</a></code></li>
<li><code><a title="revcolorsensor.colorsensor.ColorSensorV3.configureProximitySensor" href="#revcolorsensor.colorsensor.ColorSensorV3.configureProximitySensor">configureProximitySensor</a></code></li>
<li><code><a title="revcolorsensor.colorsensor.ColorSensorV3.configureProximitySensorLED" href="#revcolorsensor.colorsensor.ColorSensorV3.configureProximitySensorLED">configureProximitySensorLED</a></code></li>
<li><code><a title="revcolorsensor.colorsensor.ColorSensorV3.getBlue" href="#revcolorsensor.colorsensor.ColorSensorV3.getBlue">getBlue</a></code></li>
<li><code><a title="revcolorsensor.colorsensor.ColorSensorV3.getCIEColor" href="#revcolorsensor.colorsensor.ColorSensorV3.getCIEColor">getCIEColor</a></code></li>
<li><code><a title="revcolorsensor.colorsensor.ColorSensorV3.getColor" href="#revcolorsensor.colorsensor.ColorSensorV3.getColor">getColor</a></code></li>
<li><code><a title="revcolorsensor.colorsensor.ColorSensorV3.getGreen" href="#revcolorsensor.colorsensor.ColorSensorV3.getGreen">getGreen</a></code></li>
<li><code><a title="revcolorsensor.colorsensor.ColorSensorV3.getIR" href="#revcolorsensor.colorsensor.ColorSensorV3.getIR">getIR</a></code></li>
<li><code><a title="revcolorsensor.colorsensor.ColorSensorV3.getProximity" href="#revcolorsensor.colorsensor.ColorSensorV3.getProximity">getProximity</a></code></li>
<li><code><a title="revcolorsensor.colorsensor.ColorSensorV3.getRawColor" href="#revcolorsensor.colorsensor.ColorSensorV3.getRawColor">getRawColor</a></code></li>
<li><code><a title="revcolorsensor.colorsensor.ColorSensorV3.getRed" href="#revcolorsensor.colorsensor.ColorSensorV3.getRed">getRed</a></code></li>
<li><code><a title="revcolorsensor.colorsensor.ColorSensorV3.hasReset" href="#revcolorsensor.colorsensor.ColorSensorV3.hasReset">hasReset</a></code></li>
<li><code><a title="revcolorsensor.colorsensor.ColorSensorV3.kAddress" href="#revcolorsensor.colorsensor.ColorSensorV3.kAddress">kAddress</a></code></li>
<li><code><a title="revcolorsensor.colorsensor.ColorSensorV3.kPartID" href="#revcolorsensor.colorsensor.ColorSensorV3.kPartID">kPartID</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="revcolorsensor.colorsensor.RawColor" href="#revcolorsensor.colorsensor.RawColor">RawColor</a></code></h4>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>